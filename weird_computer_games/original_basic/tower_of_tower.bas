' Tower of Terror
' (c) 1984 by Usborne Publishing Ltd.
' https://usborne.com/browse-books/features/computer-and-coding-books/

10 GOSUB 470
20 LET R$="GOOD LUCK"
30 LET RM=0
40 LET H=9:LET M=INT(RND(1)*10)+10
50 LET P=50
60 CLS:PRINT:PRINT
70 PRINT "TOWER OF TERROR"
80 PRINT "==============="
90 PRINT:PRINT R$
100 LET R$="":LET FL=INT(RM/5)
110 LET R=RM-FL*5+1
120 PRINT:PRINT "YOU ARE ON"
130 IF FL=0 THEN PRINT "THE GROUND FLOOR"
140 IF FL=6 THEN PRINT "THE FIRST FLOOR"
150 IF FL>0 AND FL<6 THEN PRINT "FLOOR ";FL
160 PRINT "IN ROOM ":R
170 PRINT:PRINT "THE TIME IS ";H;".";M;" PM"
180 PRINT:PRINT "YOUR PULSE RATE IS ";P
190 LET GF=0
200 IF RM=30 THEN GOTO 350
210 LET TR=INT(RND(1)*9+1)
220 IF RND(1)>.6 THEN GOTO 420
230 PRINT:PRINT "RETREAT OR GO ON (R/G)"
240 LET I$=INKEY$
250 IF I$<>"G" AND I$<"R>" THEN GOTO 240
260 IF I$="G" THEN GOTO 400
270 IF I$="R" THEN LET RM=RM-1:LET P=P-5
280 IF RM=-1 THEN LET RM=0
290 LET M=M+INT(RND(1)*3+1):IF M>59 THEN LET M=M-60:LET H=H+1
300 IF H=12 THEN GOTO 360
310 IF P>150 THEN GOTO 380
320 IF P<40 THEN LET P=40
330 IF FL=TR AND RND(1)>0.5 THEN GOTO 520
340 GOTO60
350 PRINT "WELL DONE ":STOP
360 PRINT:PRINT "IT'S MIDNIGHT!"
370 PRINT:PRINT "TOO LATE!":STOP
380 PRINT "YOU HAVE GONE MAD AND"
390 PRINT "LEAPT FROM A WINDOW!":STOP
400 IF GF=1 THEN LET P=P+S*2:LET R$="AAAAHHHH!"
410 LET P=P-1:LET RM=RM+1:RETURN
420 LET TY=INT(RND(1)*3+1)
430 LET W$=G$(TY)
440 LET S=INT(RND(1)*5)+FL+TY*2
450 PRINT:PRINT "AHEAD YOU SEE A ";W$
460 LET GF=1:RETURN
470 DIM G$(3)
480 LET G$(1)="SKELETON"
490 LET G$(2)="GHOST"
500 LET G$(3)="HEADLESS AXEMAN"
510 RETURN
520 LET R$="YOU FELL THROUGH A TRAP DOOR!":LET RM=RM-5:LET P=P-10:RETURN